Compresión de imágenes: Fundamentos, Técnicas y aplicaciones


1.	Introducción. 
2.	Codificación de imágenes
3.	Técnicas de compresión de imágenes
4.	Formatos de almacenamiento de imágenes
5.	Conclusiones

RESUMEN



1. Introducción
La compresión de imágenes comprende un conjunto de técnicas que se aplican a las imágenes para almacenarlos o transmitirlos de manera eficiente. Utiliza las técnicas de compresión de datos digitales, por eso es importante presentar en qué consiste la compresión de datos. Según [1] es el proceso de reducción del volumen de datos para representar una determinada cantidad de información. Es decir, un conjunto de datos puede contener datos redundantes porque son de poca relevancia o son datos que se repiten en el conjunto, los cuales si se identifican pueden ser eliminados.

En el caso de las imágenes, se identifican varias formas de representación de la imagen, de acuerdo a la forma utilizada se  aplican al menos tres tipos para reducir el número de datos redundantes: eliminar código redundante, eliminar píxeles redundantes y eliminar redundancia visual. El objetivo para eliminar código redundante es utilizar el menor número de símbolos para representar la imagen; en este tipo es usual utilizar las técnicas de compresión por codificación de Huffman y codificación aritmética, los cuales  utilizan cálculos estadísticos para lograr eliminar este tipo de redundancia y reducir la ocupación original de los datos(revisar) [2]. 

En el caso de eliminar píxeles redundantes, la mayoría de las imágenes presentan semejanzas o correlaciones entre píxeles debido a las estructuras similares en las imágenes. De esta manera, el valor de un píxel puede emplearse para predecir el de sus vecinos; técnicas como el de Lempel-Ziv se utilizan para eliminar esta redundancia.

El ojo humano responde con diferente sensibilidad a la información visual que recibe. La información a la que es menos sensible se puede descartar sin afectar a la percepción de la imagen. Se suprime así lo que se conoce como redundancia. La eliminación de la redundancia esta relacionada con la cuantificación de la información, lo que conlleva una pérdida de información irreversible. Técnicas de compresión como JPEG, EZW o SPIHT hacen uso de la cuantificación. (revisar, no hice cambios en el texto original).

En general las técnicas de compresión de imágenes se pueden agrupar en dos grandes clases: a) Sin pérdida de información y b) Con pérdida de información. Su aplicación se realizará de acuerdo al tipo de imagen que se esté tratando, es decir, en algunas imágenes no es permisible la pérdida de información en el proceso de compresión, como por ejemplo en imágenes médicas o legales. Mientras que, en otras imágenes es posible permitir cierto grado de error, aunque manteniendo la calidad de la imagen, con la finalidad de optimizar la compresión de imágenes, por ejemplo en imágenes de videoconferencias.

El resto del presente artículo se presenta como sigue: el capítulo 2 se presentan las…
En el capítulo 3 se presentan las… y finalmente en el capítulo 4 se presentan las conclusiones derivadas del trabajo.

2. Codificación de imágenes
Una imagen puede ser definida como una función bidimensional de intensidad de luz f(x, y), donde x e y representan las coordenadas espaciales y el valor de f en un punto cualquiera (x, y) es proporcional al brillo o nivel de gris (escala de grises) de la imagen en ese punto. Una imagen digital es una imagen f(x, y) que se ha discretizado tanto en las coordenadas espaciales como en el brillo; y puede considerarse como una matriz cuyos índices de fila y de columna identifican un punto de la imagen y el valor del correspondiente elemento de la matriz indica el nivel de gris en ese punto. Los elementos de una distribución digital de este tipo se denominan elementos de la imagen o más comúnmente pixels, abreviatura de su denominación inglesa “picture elements” [1]. 

Las imágenes que percibimos están compuestas por radiaciones de diferentes longitudes de ondas electromagnéticas, cada longitud esta asociada a un color. Los parámetros de la visión son la luminancia, el tinte y la saturación.

Cualquier color se obtiene por una suma ponderada de los colores básicos: rojo, verde y azul, incluyendo los niveles de gris. Los espacios de color se pueden definir como las diferentes bases matemáticas que pueden ser útiles para representar información luminosa. El más conocido es el espacio RGB, en el cual se representan los colores primarios rojo, verde y azul, ver representación en Figura #. La desventaja de este espacio es que presenta redundancia de información entre los tres colores, para salvar esto es posible realizar una conversión a otro espacio de color, por ejemplo al YUV. Las fórmulas para la conversión son: 
Y = 0.3R + 0.6G + 0.1B (Nivel de brillo o luminancia)
U = B - Y (Diferencia de color azul, Cb)
V = R - Y (Diferencia de color rojo, Cr)

U y V son conocidas como crominancia o información del color.












Figura #. Sistema RGB (Rojo Verde Azul).
Algunas características acerca de la percepción humana que se pueden destacar son: el ojo es más sensible a unos colores que a otros, por ejemplo, dados tres fuentes de luz con la misma intensidad y distinto color (una roja, otra verde y otra azul), el ojo percibe la verde con el doble de intensidad que la roja, y seis veces más intensa que la azul. Asimismo, los mecanismos de percepción visual humanos son menos sensibles y estrictos que los auditivos, por ejemplo en variaciones de frecuencia, supresión de imágenes, etc.

De otra manera, cada muestra RGB se codifica con una cantidad de bits  por componente de color, por ejemplo, 8 bits por componente utilizan 24 bits por muestra. La resolución de una imagen se mide según el número de píxels por lado (ancho x alto). En cámaras digitales se suele medir en Megapixels, es decir, millones de píxels por imagen. El formato CIF (por sus siglas en Inglés de Common Intermediate Format) contiene 352x288 pixeles,  utilizado generalmente en videoconferencia; el VGA (640x480) utilizados por cámaras de baja calidad; n-Megapixels: Ofrecido por cámaras de mayor calidad.

3. Técnicas de compresión de imágenes
En la sección 1 se presentó que las técnicas de compresión se pueden agrupar en dos grandes clases: a) Técnicas de compresión sin pérdida de información y b) Técnicas de compresión con pérdida de información. En la primera clase, las imágenes comprimidas se regeneran sin errores, es decir, son iguales al original. Mientras que en la segunda, la imágenes reconstruidas son más o menos diferentes de la imagen original. 

En cada clasificación hay estrategias o algoritmos de compresión que destacan, así como formatos que utilizan estas estrategias o técnicas, los que son presentadas en las siguientes subsecciones.

3.1 Técnicas de compresión de imágenes sin pérdida de información

En esta clasificación, la imagen o secuencia reconstruida es exactamente la misma que la imagen original. Estas técnicas se destacan porque emplean métodos estadísticos, basados en la teoría de Shannon, que permite la compresión sin pérdida. Por ejemplo: Run-length encoding (RLE), codificación de Huffman, codificación aritmética y Lempel-Ziv. 

Run-length encoding (RLE) [3]

Es el método más simple de compresión de imágenes, es útil en imágenes cuya secuencia de caracteres se repiten. Consiste en almacenar el número de caracteres que se repiten, seguido del carácter. Por ejemplo, si tenemos una línea en una imagen que se inicia con un carácter blanco o vacío, seguido de 10 caracteres * y finaliza con otro carácter blanco o vacío. La representación de la línea se realizará de la siguiente manera: 1B10*1B. Se observa que se utilizan 7 caracteres para codificar la línea, mientras que en la forma original se emplean 12 caracteres. Este método también se utiliza en combinación con otros, así el formato JPEG lo utiliza después de transformar y cuantificar bloques de imágenes.

Codificación de Huffman [ ]


Codificación aritmética [ ]

Lempel-Ziv [ ]


3.2 Técnicas de compresión de imágenes con pérdida de información 

En esta clasificación, la imagen o secuencia reconstruida es más o menos diferente de la imagen original. Se emplean principalmente cuando las imágenes tienen información redundante susceptible de ser eliminada o reducida, por  ejemplo, el color del cielo en una foto suele ser uniforme y azul. En éstas técnicas, a veces también resulta interesante codificar el nivel de brillo de una muestra (luminancia o componente Y) y las diferencias de color (crominancias azul, roja y verde, o componentes Cb, Cr, Cg).

La reducción se hace utilizando técnicas de codificación basada en la fuente (source encoding), las cuales codifican los datos basándose en las características y propiedades de sus imágenes.  Algunas técnicas que destacan son: 1) Códificación por transformación, 2) Vector de Cuantización y 3) Compresión Fractal. 

Codificación por transformación [1] [5]

La idea base en esta técnica es utilizar una transformada como la de Fourier discreta para hacer corresponder la imagen con un conjunto de coeficientes de la transformada. Sobre estos coeficientes se aplica un proceso de cuantificación, en donde generalmente un número significativo de los coeficientes tienen valores pequeños que son poco significativos, los cuales se pueden eliminar mediante un proceso conocido como cuantización, produciéndose la pérdida de información, aunque ello no suponga una distorsión apreciable de la imagen. De esta manera se obtiene un número reducido de datos, a los cuales usualmente se les aplica una técnica de codificación sin pérdida, logrando buenos resultados.

La transformada discreta de coseno (conocido como DCT por sus siglas en inglés) es más frecuentemente utilizada para compresión de imágenes, debido a su capacidad para empaquetar la información, pues empaqueta la mayor parte de la información en el menor número de coeficientes; asimismo DCT minimiza la visibilidad de los límites entre subimágenes. Los coeficientes para la DCT se calculan a partir de la ecuación 1. 

Ecuación 1:  




Vector de Cuantización [5]

La idea central es seleccionar un conjunto representativo de una imagen, como por ejemplo la imagen se divide en bloques de tamaño fijo denominados vectores. A continuación se construye una tabla que contiene vectores diferentes encontrados en la imagen original, luego se pueden direccionar los vectores de la imagen original a los vectores de la tabla. Si la tabla contiene un número mucho menor de vectores que la imagen original debido a que dicha imagen contiene vectores que se repiten, la compresión puede ser importante. En este sistema, la codificación, es decir la compresión, puede ser una sucesión de índices a la tabla., como se observa en la figura #


0	1	0	
			
1	1	0	
1	0	1	0
1	1	0	
2	1	1	0		1 2 2 3 3 4
1	1	1	
3	1	1	1
1	1	1	
4	0	0	1
0	0	1					

Figura #. Ejemplo de codificación por cuantización.

Para la codificación de un conjunto de imágenes, utilizando esta técnica, la tabla pueda ser dinámicamente construida. Asimismo, técnicas como clustering puedes ser utilizadas para realizar la clasificación de vectores. 

Compresión Fractal [5] [6]

Un fractal es un objeto semi geométrico cuya estructura básica, fragmentada o irregular, se repite a diferentes escalas, por ejemplo, las nubes, las montañas, el sistema circulatorio, las líneas costeras o los copos de nieve son fractales naturales, muchas imágenes son como estos objetos.
 
La compresión fractal consiste en transmitir imágenes utilizando funciones. Es decir, dada una imagen, desde un conjunto de imágenes, se aplica la función f: Imagen ? Imagen tal que f(i) es semejante a i. El proceso se completa transmitiéndose el coeficiente que únicamente identifica a f. 
Existen varias técnicas de compresión de imágenes fractales, una de ellas es la que  consiste en encontrar un  Sistema de funciones iteradas (IFS) que genera un conjunto de transformaciones que lleva la figura completa en cada una de sus partes autosemejantes. La información sobre la imagen quedará codificada en el IFS, y la aplicación reiterada de dichas transformaciones permiten obtener una imagen bastante cercana a la original. Es una técnica de compresión con pérdida. La figura # es un ejemplo de imagen en el que se aplica compresión fractal por sus características de forma que se repiten.
La aplicación de técnicas fractales para la compresión de imágenes digitales fue introducida por Michael Barnsley y Arnaud Jacquin en 1988. Jacquin propuso considerar las imágenes como una colección de transformaciones afines de pequeños dominios de imagen; mientras que  Barnsley sugiere que las imágenes sean almacenadas como una colección de transformadas, cuyo número determina la tasa de compresión.









Figura #. Ejemplo de compresión fractal

4. Formatos de archivos de imágenes [1] [4] 
Un formato es una manera estándar de codificar datos de una imagen con la finalidad de almacenarla o transmitirla. Sin embargo, debe haber algún método para convertir a ceros y unos que es el lenguaje del computador.

4.1 Mapas de bits y vectores

Todos los archivos de imágenes pertenecen a una de las dos categorías básicas: mapa de bits (bitmap) o vectores. Una manera intuitiva de entender un mapa de bits es comparándola con un monitor de la computadora, despliega imágenes como un conjunto de pixeles de colores individuales. Cada pixel es una celda en el mapa de bits.

Archivos de imágenes de vectores son un conjunto de vectores basados en ecuaciones matemáticas, los cuales describen geométricamente una imagen, las ecuaciones corresponden a puntos, líneas, curvas y formas o polígonos. Asimismo, ellos pueden especificar el tamaño, grosor, posición, color y relleno de las líneas o formas geométricas. Para construir una imagen se requiere de programas que utilizan los vectores o fórmulas matemáticas.

Las imágenes elaboradas con vectores generalmente son de mayor calidad que utilizando mapas de bits. Las fórmulas conservan la calidad de las imágenes a diferentes escalas, tamaños y detalles, mientras que en mapas de bits se pierde dicha calidad, en la figura # se observa el efecto de incrementar siete veces la escala de la figura original, en donde se observa que no se modifica la calidad de la imagen usando un vector, mientras que usando un archivo mapa de bits sí se pierde la calidad de la imagen.








Figura #. Efectos de archivos de imágenes de mapa de bits y vectores [4]. 

Sin embargo, vectores y mapas de bits se complementan, pues vectores pueden contener mapas de bits como datos, y asimismo los vectores pueden ser displayados mediante mapas de bits.
Mapas de bits generalmente son utilizados en fotografías o imágenes de fotos reales, mientras que vectores son mayormente usadas en composición y diseño gráfico.
4.2 Formatos

Existen cientos de formatos de imágenes, sin embargo los más conocidos y que pertenecen a la categoría de mapas de bits son: 
?	JPEG (Joint Photographic Experts Group)
?	GIF (Graphics Interchange Format)
?	PNG (Portable Network Graphics)
?	TIFF (Tagged Image File Format)
?	BMP (Windows bitmap)

Los que pertenecen a la categoría de vectores son.

JPEG (Joint Photographic Experts Group)

Es un un formato estándar ISO, cuyo origen proviene del grupo Joint Photographic Expert Group, que es diseñado para compresión de imágenes de fotografías y de escenas reales, de color o de escala de grises, y de tonos continuos. Permite ajustar el grado de compresión, si la compresión es baja se registran imágenes muy parecidas al original, pero el tamaño del archivo es grande.

JPEG es además un método de compresión con pérdida. En la Figura # se muestran los pasos que sigue el método.

 
Figura #. Secuencia de pasos que sigue el método JPEG.

El método JPEG codifica una imagen en tres etapas:

I.	Preparación de la imagen.
?	 Transformación del espacio de color. Las imágenes de color se transforman del espacio RGB al espacio YUV (luminancia y prominencia).
?	 Submuestreo, permite la reducción de color para obtener archivos de tamaños más pequeños que el original.
?	 Formación de bloques, se divide la imagen en bloques de 8 x 8 pixeles.

II.	 Codificación fuente, codificación con pérdida
?	 Transformación discreta de coseno o DCT, que se aplica a cada bloque de imagen, obteniéndose un dominio de la frecuencia (matriz de coeficientes).
?	 Cuantificación, cada coeficiente de la matriz 8 x8 es dividido por una constante de la matriz de cuantificación y se redondea a su número entero más cercano. Se eliminan los coeficientes menos representativos, produciéndose pérdida de información de la imagen y por consiguiente su calidad.

III.	Codificación entrópica, codificación sin pérdida
?	 Codificación run-length, de todos los componente de un bloque. Se hace un barrido “zig-zag” con el fin de agrupar todos los componentes nulos.
?	Codificación Huffman, se aplica a lo obtenido en la codificación anterior, con el fin de comprimir aún más la información, siendo este el último paso del método y obteniéndose la compresión de la imagen con el modelo JPEG.

La decodificación JPEG consiste en realizar el proceso inverso.

GIF (Graphics Interchange Format)

Es limitado a 256 colores, permite almacenar imágenes estáticas como diagramas simples, o logos con áreas de color sólidos, o imágenes como caricaturas, y animaciones simples. Utiliza el Lempel-Ziv-Welch (LZW) que es un método de compresión de imágenes sin pérdida de información. 

PNG (Portable Network Graphics)

Es basado en un algoritmo de compresión sin pérdida, pertenece a la categoría de mapa de bits.  Este formato fue desarrollado en buena parte para solventar las deficiencias del formato GIF, no está sujeto a patentes. Soporta hasta 16 millones de colores, y permite almacenar imágenes en la escala de grises, RGB (colores reales) y permite niveles de transparencia. Es muy adecuado para gráficos pero no soporta animación. Usan la extensión .png.

TIFF (Tagged Image File Format)

Es un formato de archivo de imagen etiquetado, pertenece a la categoría de mapa de bits. Creado originalmente por Aldus a mediados de los 80, actualmente es parte de Adobe Systems.  Admite imágenes en la escala de grises y color real, incluso a 16 bits por píxel. Es un formato muy popular y usado en la mayoría de las aplicaciones de manipulación de imágenes, composición, escaneado, fax, reconocimiento de caracteres ópticos (OCR), etc.
Debe su nombre a que los ficheros TIFF contienen, además de los datos de la imagen propiamente dicha, “etiquetas” en las que se archiva información sobre las características de la imagen, que sirve para su tratamiento posterior.
Admite varias formas de compresión con y sin pérdida de información como JPEG y LZW respectivamente. Usa extensión .tif o .tiff.
J. Mateos y J. Abad (UGR) Compresión de imágenes y vídeo Curso 2007-08 14 / 52

BMP (Windows bitmap)

Los datos se almacenan sin compresión, o con compresión sin pérdidas, por lo que el tamaño de los ficheros es considerable. Maneja colores de hasta 24 bits de profundidad. Son usados en los programas de Microsoft, en archivos de gráficos como íconos y papel tapiz. 

5. Conclusiones
